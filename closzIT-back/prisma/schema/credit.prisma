/// 크레딧 거래 유형
enum CreditTransactionType {
  SIGNUP           // 회원가입 보상
  CLOTHING_ADDED   // 의류 등록 보상
  VTO_USED         // VTO 서비스 사용
  FLATTEN_USED     // 옷 펴기 서비스 사용
  ADMIN_ADJUSTMENT // 관리자 조정
}

/// 크레딧 이력 테이블
model CreditHistory {
  /// 고유 ID (자동 생성 UUID)
  id            String                 @id @default(uuid())
  /// 사용자 ID
  userId        String                 @map("user_id")
  /// 거래 유형
  type          CreditTransactionType
  /// 변동 금액 (양수: 증가, 음수: 감소)
  amount        Int
  /// 거래 후 잔액
  balanceAfter  Int                    @map("balance_after")
  /// 설명
  description   String?
  /// 생성일 (자동 생성)
  createdAt     DateTime               @default(now()) @map("created_at")

  /// 사용자 관계
  user User @relation(fields: [userId], references: [id], onDelete: Cascade)

  @@map("credit_history")
  @@index([userId])
  @@index([createdAt])
}
