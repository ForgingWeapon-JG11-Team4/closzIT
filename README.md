<p align="center">
  <img src="closzIT-front/public/assets/closzit-mascot.png" alt="CloszIT Logo" width="120" />
</p>

<h1 align="center">CloszIT</h1>

<p align="center">
  <strong>ë‚´ ì†ì•ˆì˜ ìŠ¤ë§ˆíŠ¸ ì˜·ì¥ â€” AI ê¸°ë°˜ ë””ì§€í„¸ ì˜·ì¥ & ê°€ìƒ í”¼íŒ… í”Œë«í¼</strong>
</p>

<p align="center">
  <img src="https://img.shields.io/badge/React-18.2.0-61DAFB?logo=react" alt="React" />
  <img src="https://img.shields.io/badge/NestJS-11.0-E0234E?logo=nestjs" alt="NestJS" />
  <img src="https://img.shields.io/badge/Prisma-5.22-2D3748?logo=prisma" alt="Prisma" />
  <img src="https://img.shields.io/badge/PostgreSQL-pgvector-4169E1?logo=postgresql" alt="PostgreSQL" />
  <img src="https://img.shields.io/badge/PWA-Enabled-5A0FC8" alt="PWA" />
</p>

---

## ğŸ“‹ ëª©ì°¨

- [ì•„í‚¤í…ì²˜ ê°œìš”](#ì•„í‚¤í…ì²˜-ê°œìš”)
- [í•µì‹¬ ê¸°ëŠ¥](#í•µì‹¬-ê¸°ëŠ¥)
- [ê¸°ìˆ  ì‹¬ì¸µ ë¶„ì„](#ê¸°ìˆ -ì‹¬ì¸µ-ë¶„ì„)
- [ê¸°ìˆ  ìŠ¤íƒ](#ê¸°ìˆ -ìŠ¤íƒ)
- [ì„¤ì¹˜ ë° ì‹¤í–‰](#ì„¤ì¹˜-ë°-ì‹¤í–‰)
- [í”„ë¡œì íŠ¸ êµ¬ì¡°](#í”„ë¡œì íŠ¸-êµ¬ì¡°)
- [í™˜ê²½ ë³€ìˆ˜](#í™˜ê²½-ë³€ìˆ˜)

---

## ğŸ—ï¸ ì•„í‚¤í…ì²˜ ê°œìš”

CloszITì€ **React PWA í”„ë¡ íŠ¸ì—”ë“œ**, **NestJS ë°±ì—”ë“œ**, ê·¸ë¦¬ê³  **AI ì„œë¹™ ë ˆì´ì–´** ê°„ì˜ ëª…í™•í•˜ê²Œ ë¶„ë¦¬ëœ 3-tier ì•„í‚¤í…ì²˜ë¡œ êµ¬ì„±ë©ë‹ˆë‹¤.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              ì‚¬ìš©ì (PWA)                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         React 18 Frontend (PWA)                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚  appStore   â”‚  â”‚  userStore  â”‚  â”‚  tabStore   â”‚  â”‚  vtoStore   â”‚        â”‚
â”‚  â”‚  (ë‚ ì”¨/ìº˜ë¦°ë”)â”‚  â”‚ (ì¸ì¦/í¬ë ˆë”§) â”‚  â”‚ (íƒ­ ë„¤ë¹„)   â”‚  â”‚ (VTO ìƒíƒœ)  â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚                        Zustand ìƒíƒœ ê´€ë¦¬ (SWR ìºì‹±)                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         NestJS Backend (22 ëª¨ë“ˆ)                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  Auth   â”‚ â”‚ Fitting â”‚ â”‚Recommendationâ”‚ â”‚   Credit   â”‚ â”‚  Payment   â”‚    â”‚
â”‚  â”‚(OAuth)  â”‚ â”‚  (VTO)  â”‚ â”‚   (RAG)      â”‚ â”‚ (ë©±ë“± ì²˜ë¦¬) â”‚ â”‚ (ì¹´ì¹´ì˜¤í˜ì´)â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                    â”‚                                        â”‚
â”‚                         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                            â”‚
â”‚                         â”‚ BullMQ + Redis      â”‚                            â”‚
â”‚                         â”‚ (ì‘ì—… í)            â”‚                            â”‚
â”‚                         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â–¼               â–¼               â–¼
           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           â”‚  PostgreSQL  â”‚ â”‚   AWS S3     â”‚ â”‚   AI ì„œë²„    â”‚
           â”‚  + pgvector  â”‚ â”‚  (ì´ë¯¸ì§€)     â”‚ â”‚   (VTO/ë¶„ì„) â”‚
           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                    â”‚
                                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                    â–¼               â–¼               â–¼
                           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                           â”‚   FastAPI    â”‚ â”‚ Google GenAI â”‚ â”‚ AWS Bedrock  â”‚
                           â”‚ (YOLO/CLIP)  â”‚ â”‚  (Gemini)    â”‚ â”‚  (Claude)    â”‚
                           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ë°ì´í„° íë¦„ í•µì‹¬ í¬ì¸íŠ¸

| ë ˆì´ì–´ | ê¸°ìˆ  | ì—­í•  |
|--------|------|------|
| **í”„ë¡ íŠ¸ì—”ë“œ** | React 18 + Zustand | ìƒíƒœ ê´€ë¦¬, í´ë§ ê¸°ë°˜ VTO ê²°ê³¼ ì¡°íšŒ |
| **ë°±ì—”ë“œ** | NestJS + Prisma | ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§, í ê´€ë¦¬, OAuth |
| **ì‘ì—… í** | BullMQ + Redis | GPU ì§‘ì•½ì  VTO ì‘ì—…ì˜ ë¹„ë™ê¸° ì²˜ë¦¬ |
| **ë°ì´í„°ë² ì´ìŠ¤** | PostgreSQL + pgvector | ë²¡í„° ìœ ì‚¬ë„ ê¸°ë°˜ ì½”ë”” ì¶”ì²œ |
| **AI ì„œë¹™** | FastAPI + Gemini + Bedrock | ì˜· ë¶„ì„, ê°€ìƒ í”¼íŒ…, TPO ì¶”ì¶œ |

---

## âœ¨ í•µì‹¬ ê¸°ëŠ¥

### ğŸ¨ AI ì˜·ì¥ (AI Wardrobe)

| ê¸°ëŠ¥ | ì„¤ëª… | êµ¬í˜„ ìœ„ì¹˜ |
|------|------|----------|
| **AI ì˜ë¥˜ ë¶„ì„** | YOLO + CLIP ê¸°ë°˜ ì¹´í…Œê³ ë¦¬, ìƒ‰ìƒ, íŒ¨í„´, ìŠ¤íƒ€ì¼ ìë™ ê°ì§€ | `analysis.service.ts` |
| **ì˜· í´ê¸° (Flatten)** | Google Geminië¡œ í”Œë«ë ˆì´ ì´ë¯¸ì§€ ìƒì„± | `analysis.service.ts` â†’ `flattenClothing()` |
| **ë“±ë¡ ì˜µì…˜** | ì•¨ë²”/ì¹´ë©”ë¼/ì›¹ìº¡ì²˜/ë°”ì½”ë“œ ìŠ¤ìº” ì§€ì› | `RegisterPage.jsx` |
| **ë²¡í„° ì„ë² ë”©** | FashionSigLIP ê¸°ë°˜ ì´ë¯¸ì§€ ì„ë² ë”© ì €ì¥ (pgvector) | `clothing.prisma` â†’ `image_embedding` |
| **ì°©ìš© ì¶”ì ** | ì°©ìš© íšŸìˆ˜, ë§ˆì§€ë§‰ ì°©ìš©ì¼ ìë™ ê¸°ë¡ | `outfit-log.prisma` |

### ğŸ‘” ê°€ìƒ í”¼íŒ…ë£¸ (Virtual Fitting Room)

| ê¸°ëŠ¥ | ì„¤ëª… | êµ¬í˜„ ìœ„ì¹˜ |
|------|------|----------|
| **ì „ì²´ ì½”ë”” VTO** | ìƒì˜/í•˜ì˜/ì•„ìš°í„°/ì‹ ë°œ ì¡°í•© ê°€ìƒ ì°©ìš© | `fitting.controller.ts` â†’ `partialTryOnByIds()` |
| **SNS ê²Œì‹œë¬¼ VTO** | ë‹¤ë¥¸ ì‚¬ìš©ì ê²Œì‹œë¬¼ì˜ ì½”ë””ë¥¼ ë‚´ ì²´í˜•ì— ì…ì–´ë³´ê¸° | `fitting.controller.ts` â†’ `snsFullTryOn()` |
| **ë‹¨ì¼ ì•„ì´í…œ VTO** | ê°œë³„ ì˜· ì›í´ë¦­ ì…ì–´ë³´ê¸° | `fitting.controller.ts` â†’ `singleItemTryOn()` |
| **í ê¸°ë°˜ ì²˜ë¦¬** | BullMQë¡œ GPU ì‘ì—… ë¹„ë™ê¸° ì²˜ë¦¬ (ìµœëŒ€ 300ì´ˆ í´ë§) | `vto.processor.ts` |
| **ê²°ê³¼ ìºì‹±** | S3 ì €ì¥ + DB ìºì‹œë¡œ ë™ì¼ ì¡°í•© ì¦‰ì‹œ ë°˜í™˜ | `vto-cache.prisma` â†’ `hashKey` |

### ğŸ§  ìŠ¤ë§ˆíŠ¸ ì¶”ì²œ (Smart Recommendations)

| ê¸°ëŠ¥ | ì„¤ëª… | êµ¬í˜„ ìœ„ì¹˜ |
|------|------|----------|
| **RAG ê¸°ë°˜ ì½”ë”” ê²€ìƒ‰** | TPO + ë‚ ì”¨ + ìŠ¤íƒ€ì¼ ì»¨í…ìŠ¤íŠ¸ ê¸°ë°˜ ì¶”ì²œ | `rag-search.service.ts` |
| **ë²¡í„° ìœ ì‚¬ë„ ê²€ìƒ‰** | pgvector ì½”ì‚¬ì¸ ìœ ì‚¬ë„ë¡œ ìœ ì‚¬ ì˜· ì°¾ê¸° | `vector-db.service.ts` |
| **ê·œì¹™ ê¸°ë°˜ ìŠ¤ì½”ì–´ë§** | TPO/ê³„ì ˆ/ìƒ‰ìƒ ì¡°í™” ê·œì¹™ ì ìš© | `scoring.service.ts` (12KB) |
| **ìº˜ë¦°ë” ì—°ë™** | Google Calendar ì¼ì • ê¸°ë°˜ TPO ìë™ ì¶”ì¶œ | `calendar.service.ts` |
| **ë‚ ì”¨ ë°˜ì˜** | ì‚¬ìš©ì ìœ„ì¹˜ ê¸°ë°˜ ë‚ ì”¨ ì¡°íšŒ â†’ ê³„ì ˆ/ë‚ ì”¨ í•„í„°ë§ | `weather.service.ts` |
| **í”¼ë“œë°± í•™ìŠµ** | ìˆ˜ë½/ê±°ì ˆ ê¸°ë¡ â†’ ì˜· í‰ì  ì¡°ì • | `feedback.service.ts` |

### ğŸ’³ í¬ë ˆë”§ ì‹œìŠ¤í…œ

| ê¸°ëŠ¥ | í¬ë ˆë”§ | ì„¤ëª… |
|------|--------|------|
| **íšŒì›ê°€ì…** | +10 | ì´ˆê¸° ì§€ê¸‰ |
| **ì˜· ë“±ë¡** | +1 | ì˜· ë“±ë¡ ì‹œ ì ë¦½ |
| **VTO ì‚¬ìš©** | -3 | ê°€ìƒ í”¼íŒ…ë‹¹ ì°¨ê° |
| **ì˜· í´ê¸°** | -1 | Flattenë‹¹ ì°¨ê° |
| **êµ¬ë§¤** | +N | ì¹´ì¹´ì˜¤í˜ì´ ê²°ì œ |

> ëª¨ë“  í¬ë ˆë”§ ì‘ì—…ì€ `idempotencyKey`ë¡œ **ë©±ë“±ì„±** ë³´ì¥

### ğŸ“± SNS í”¼ë“œ

| ê¸°ëŠ¥ | ì„¤ëª… | êµ¬í˜„ ìœ„ì¹˜ |
|------|------|----------|
| **ì½”ë”” ê²Œì‹œ** | ë‚´ ì˜·ì¥ ì˜·ë“¤ë¡œ êµ¬ì„±ëœ ì½”ë”” ê³µìœ  | `posts.controller.ts` |
| **ì¢‹ì•„ìš”/ëŒ“ê¸€** | ë‚™ê´€ì  ì—…ë°ì´íŠ¸ ì ìš© | `FeedPage.jsx` |
| **íŒ”ë¡œìš°** | ë‹¤ë¥¸ ì‚¬ìš©ì íŒ”ë¡œìš°/ì–¸íŒ”ë¡œìš° | `follow.service.ts` |
| **ì½”ë”” ì…ì–´ë³´ê¸°** | ê²Œì‹œë¬¼ ì½”ë””ë¥¼ VTOë¡œ ë‚´ ì²´í˜•ì— ì ìš© | `vtoStore.requestVto()` |

---

## ğŸ”¬ ê¸°ìˆ  ì‹¬ì¸µ ë¶„ì„

### 1. í ê¸°ë°˜ VTO ì²˜ë¦¬ (BullMQ)

VTOëŠ” GPU ì§‘ì•½ì  ì‘ì—…ìœ¼ë¡œ, ë™ê¸° ì²˜ë¦¬ ì‹œ 30ì´ˆ ì´ìƒ ì†Œìš”ë©ë‹ˆë‹¤. BullMQë¥¼ í†µí•œ ë¹„ë™ê¸° ì²˜ë¦¬ë¡œ ì‚¬ìš©ì ê²½í—˜ì„ ê°œì„ í•©ë‹ˆë‹¤.

```mermaid
sequenceDiagram
    participant C as Client
    participant API as NestJS API
    participant Q as BullMQ (Redis)
    participant P as VtoProcessor
    participant AI as IDM-VTON API
    participant S3 as AWS S3
    
    C->>API: POST /partial-try-on-by-ids
    API->>API: í¬ë ˆë”§ í™•ì¸ (3í¬ë ˆë”§)
    API->>Q: ì‘ì—… íì‰ (jobId ë°œê¸‰)
    API-->>C: { jobId, status: "queued" }
    
    loop 1ì´ˆë§ˆë‹¤ í´ë§ (ìµœëŒ€ 300íšŒ)
        C->>API: GET /queue/job/vto/{jobId}
        API-->>C: { status: "pending" }
    end
    
    Q->>P: ì‘ì—… ì²˜ë¦¬
    P->>AI: POST /try-on (Base64 ì´ë¯¸ì§€)
    AI-->>P: ê²°ê³¼ ì´ë¯¸ì§€
    P->>S3: ê²°ê³¼ ì—…ë¡œë“œ
    P->>P: VtoCache ì €ì¥ (Prisma)
    P->>P: í¬ë ˆë”§ ì°¨ê°
    
    C->>API: GET /queue/job/vto/{jobId}
    API-->>C: { status: "completed", imageUrl }
```

**í•µì‹¬ êµ¬í˜„:**
- `queue.module.ts`: BullMQ ì„¤ì • (Redis ì—°ê²°)
- `vto.processor.ts`: VTO ì‘ì—… ì²˜ë¦¬ ë¡œì§
- `vtoStore.js`: í”„ë¡ íŠ¸ì—”ë“œ í´ë§ ë° ìƒíƒœ ê´€ë¦¬

### 2. RAG ê¸°ë°˜ ì½”ë”” ì¶”ì²œ

í•˜ì´ë¸Œë¦¬ë“œ ê²€ìƒ‰ ì „ëµìœ¼ë¡œ ê°œì¸í™”ëœ ì½”ë””ë¥¼ ì¶”ì²œí•©ë‹ˆë‹¤.

```
ì…ë ¥ ì»¨í…ìŠ¤íŠ¸ êµ¬ì„±:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  TPO        â”‚  ë‚ ì”¨        â”‚  ìŠ¤íƒ€ì¼      â”‚  ì¿¼ë¦¬   â”‚
â”‚  (ë°ì´íŠ¸)    â”‚  (15Â°C, ë§‘ìŒ) â”‚  (ìºì£¼ì–¼)    â”‚  (ììœ ) â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Vector Similarity Search               â”‚
â”‚         (pgvector ì½”ì‚¬ì¸ ìœ ì‚¬ë„ + í•„í„°ë§)            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Rule-based Scoring                     â”‚
â”‚  â€¢ TPO ë§¤ì¹­: +30ì                                   â”‚
â”‚  â€¢ ê³„ì ˆ ì í•©: +20ì                                  â”‚
â”‚  â€¢ ìƒ‰ìƒ ì¡°í™”: +15ì                                  â”‚
â”‚  â€¢ ì°©ìš© ë¹ˆë„ ë°˜ì˜                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Outfit Assembly                        â”‚
â”‚     (ìƒì˜ + í•˜ì˜ + ì•„ìš°í„° + ì‹ ë°œ ì¡°í•© ìƒì„±)           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**í•µì‹¬ êµ¬í˜„:**
- `rag-search.service.ts`: í†µí•© ê²€ìƒ‰ ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜
- `vector-db.service.ts`: pgvector ì¿¼ë¦¬ ë¹Œë”
- `scoring.service.ts`: ê·œì¹™ ê¸°ë°˜ ì ìˆ˜ ê³„ì‚°

### 3. í”„ë¡ íŠ¸ì—”ë“œ ìƒíƒœ ê´€ë¦¬ (Zustand + SWR íŒ¨í„´)

```javascript
// appStore.js - Stale-While-Revalidate íŒ¨í„´
fetchUpcomingEvents: async (force = false) => {
    const { eventsLastFetchedAt, upcomingEvents } = get();
    const cacheValid = eventsLastFetchedAt && 
                       (Date.now() - eventsLastFetchedAt < 5 * 60 * 1000);
    
    // ìºì‹œ ìœ íš¨ â†’ ì¦‰ì‹œ ë°˜í™˜, ë°±ê·¸ë¼ìš´ë“œ ê°±ì‹ 
    if (!force && cacheValid) return;
    
    // ìºì‹œëœ ë°ì´í„° ìˆìœ¼ë©´ ë¡œë”© ì—†ì´ í‘œì‹œ (Stale)
    if (upcomingEvents.length > 0) {
        // ë°±ê·¸ë¼ìš´ë“œ ê°±ì‹  (Revalidate)
    }
    // ... API í˜¸ì¶œ
}
```

**4ê°œ Zustand ìŠ¤í† ì–´:**
| ìŠ¤í† ì–´ | ìºì‹œ ì „ëµ | ì—­í•  |
|--------|----------|------|
| `appStore` | ë‚ ì”¨ 1ì‹œê°„, ì¼ì • 5ë¶„ | ì „ì—­ ì•± ìƒíƒœ |
| `userStore` | 5ë¶„ + ìš”ì²­ ì‹œ ê°±ì‹  | ì¸ì¦/í”„ë¡œí•„/í¬ë ˆë”§ |
| `tabStore` | ì„¸ì…˜ | íƒ­ ë„¤ë¹„ê²Œì´ì…˜ + ì§€ì—° ë¡œë”© |
| `vtoStore` | sessionStorage | VTO ê²°ê³¼ + í´ë§ ìƒíƒœ |

### 4. ê²°ì œ ì •í•©ì„± (Outbox Pattern)

ì¹´ì¹´ì˜¤í˜ì´ ê²°ì œ í›„ í¬ë ˆë”§ ì§€ê¸‰ì˜ **ìµœì¢… ì¼ê´€ì„±**ì„ ë³´ì¥í•©ë‹ˆë‹¤.

```
ê²°ì œ ìŠ¹ì¸ â†’ KakaoPayment (APPROVED) â†’ PaymentOutbox (PENDING)
                                              â”‚
                                              â–¼
                                   Outbox Processor
                                              â”‚
                                              â–¼
                         CreditService.addCredit() (ë©±ë“±)
                                              â”‚
                                              â–¼
                                   PaymentOutbox (COMPLETED)
```

---

## ğŸ› ï¸ ê¸°ìˆ  ìŠ¤íƒ

### Frontend

| ì¹´í…Œê³ ë¦¬ | ê¸°ìˆ  | ë²„ì „ | ìš©ë„ |
|---------|------|------|------|
| **Core** | React | 18.2.0 | UI í”„ë ˆì„ì›Œí¬ |
| **State** | Zustand | 5.0.10 | ì „ì—­ ìƒíƒœ ê´€ë¦¬ |
| **Styling** | TailwindCSS | 3.3.6 | ìœ í‹¸ë¦¬í‹° CSS (ëŸ­ì…”ë¦¬ í…Œë§ˆ) |
| **Routing** | React Router | 6.30.3 | SPA ë¼ìš°íŒ… |
| **PWA** | Workbox | 6.6.0 | ì˜¤í”„ë¼ì¸ ì§€ì› |
| **Charts** | @nivo/pie | 0.99.0 | ì˜·ì¥ í†µê³„ ì°¨íŠ¸ |
| **HTTP** | Axios | 1.13.2 | API í†µì‹  |
| **Barcode** | html5-qrcode | 2.3.8 | ë°”ì½”ë“œ ìŠ¤ìº” |

### Backend

| ì¹´í…Œê³ ë¦¬ | ê¸°ìˆ  | ë²„ì „ | ìš©ë„ |
|---------|------|------|------|
| **Core** | NestJS | 11.0.1 | ëª¨ë“ˆí˜• ë°±ì—”ë“œ |
| **ORM** | Prisma | 5.22.0 | íƒ€ì… ì•ˆì „ DB ì ‘ê·¼ |
| **Database** | PostgreSQL + pgvector | - | ë²¡í„° ìœ ì‚¬ë„ ê²€ìƒ‰ |
| **Queue** | BullMQ | 5.66.5 | ë¹„ë™ê¸° ì‘ì—… í |
| **Cache** | Redis | - | í ë°±ì—”ë“œ |
| **Auth** | Passport + JWT | 0.7.0 | ì¸ì¦ |
| **Storage** | AWS S3 | 3.965.0 | ì´ë¯¸ì§€ ì €ì¥ |
| **Scraping** | Puppeteer | 24.35.0 | ì›¹ ìº¡ì²˜ |

### AI Integrations

| ì„œë¹„ìŠ¤ | ìš©ë„ | ì—”ë“œí¬ì¸íŠ¸ |
|--------|------|-----------|
| **FastAPI** | YOLO ê°ì§€, CLIP ë¶„ë¥˜, FashionSigLIP ì„ë² ë”© | `FASTAPI_URL` |
| **IDM-VTON** | ê°€ìƒ í”¼íŒ… (DensePose + Diffusion) | `VTON_API_URL` |
| **Google GenAI** | Gemini - ì˜· í´ê¸°, TPO ì¶”ì¶œ | `GOOGLE_API_KEY` |
| **AWS Bedrock** | Claude - ë¡œì§ ì²˜ë¦¬ | `AWS_REGION` |

---

## ğŸš€ ì„¤ì¹˜ ë° ì‹¤í–‰

### ì‚¬ì „ ìš”êµ¬ì‚¬í•­

- Node.js 18+
- PostgreSQL 15+ (pgvector í™•ì¥ ì„¤ì¹˜)
- Redis 7+
- PNPM / NPM

### Backend ì„¤ì •

```bash
cd closzIT-back

# ì˜ì¡´ì„± ì„¤ì¹˜
npm install

# í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
cp .env.example .env
# .env íŒŒì¼ ìˆ˜ì • (DB, Redis, AI ì„œë²„ URL ë“±)

# Prisma ë§ˆì´ê·¸ë ˆì´ì…˜
npx prisma generate
npx prisma migrate deploy

# ê°œë°œ ì„œë²„ ì‹¤í–‰
npm run start:dev
```

### Frontend ì„¤ì •

```bash
cd closzIT-front

# ì˜ì¡´ì„± ì„¤ì¹˜
npm install

# í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
# .env.development ë˜ëŠ” .env.production í™•ì¸

# ê°œë°œ ì„œë²„ ì‹¤í–‰
npm start
```

### í™˜ê²½ ë³€ìˆ˜ (Backend)

```env
# Database
DATABASE_URL=postgresql://user:password@localhost:5432/closzit

# Redis
REDIS_HOST=localhost
REDIS_PORT=6379

# AI Servers
FASTAPI_URL=http://localhost:8000      # YOLO/CLIP/Embedding
VTON_API_URL=http://localhost:8001     # IDM-VTON

# AWS
AWS_REGION=ap-northeast-1
AWS_S3_BUCKET=closzit-images
AWS_S3_REGION=ap-northeast-2

# Auth
JWT_SECRET=your-secret-key
GOOGLE_API_KEY=your-gemini-key
```

### í™˜ê²½ ë³€ìˆ˜ (Frontend)

```env
REACT_APP_BACKEND_URL=http://localhost:3000
REACT_APP_DEMO_SET_ID=1
REACT_APP_FLATTEN_TIMEOUT_MS=5000
REACT_APP_USE_DEMO_FALLBACK=false
```

---

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
closzIT/
â”œâ”€â”€ closzIT-front/                 # React PWA Frontend
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/            # 13ê°œ ì¬ì‚¬ìš© ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”œâ”€â”€ pages/                 # 30+ í˜ì´ì§€
â”‚   â”‚   â”œâ”€â”€ stores/                # 4ê°œ Zustand ìŠ¤í† ì–´
â”‚   â”‚   â””â”€â”€ utils/                 # VTO ìŠ¤í† ë¦¬ì§€ ìœ í‹¸
â”‚   â””â”€â”€ public/                    # PWA ë§¤ë‹ˆí˜ìŠ¤íŠ¸
â”‚
â”œâ”€â”€ closzIT-back/                  # NestJS Backend
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ auth/                  # Google OAuth + JWT
â”‚   â”‚   â”œâ”€â”€ fitting/               # VTO ì—”ë“œí¬ì¸íŠ¸ (1039ì¤„)
â”‚   â”‚   â”œâ”€â”€ recommendation/        # RAG ì¶”ì²œ (5ê°œ ì„œë¹„ìŠ¤)
â”‚   â”‚   â”œâ”€â”€ queue/                 # BullMQ í”„ë¡œì„¸ì„œ
â”‚   â”‚   â”œâ”€â”€ credit/                # ë©±ë“± í¬ë ˆë”§ ì‹œìŠ¤í…œ
â”‚   â”‚   â”œâ”€â”€ payment/               # ì¹´ì¹´ì˜¤í˜ì´ Outbox
â”‚   â”‚   â””â”€â”€ ...                    # 22ê°œ ëª¨ë“ˆ
â”‚   â””â”€â”€ prisma/
â”‚       â””â”€â”€ schema/                # 12ê°œ ëª¨ë“ˆí™” ìŠ¤í‚¤ë§ˆ
â”‚
â””â”€â”€ README.md
```

---

## ğŸ“Š ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ

### ì£¼ìš” í…Œì´ë¸”

| í…Œì´ë¸” | ì„¤ëª… |
|--------|------|
| `users` | ì‚¬ìš©ì (OAuth, í”„ë¡œí•„, í¬ë ˆë”§) |
| `clothes` | ì˜· (ì„ë² ë”©, ì¹´í…Œê³ ë¦¬, ì°©ìš© ì´ë ¥) |
| `posts` | SNS ê²Œì‹œë¬¼ |
| `vto_cache` | VTO ê²°ê³¼ ìºì‹œ (í•´ì‹œí‚¤ ê¸°ë°˜) |
| `credit_history` | í¬ë ˆë”§ ê±°ë˜ ì´ë ¥ (ë©±ë“±í‚¤ í¬í•¨) |
| `kakao_payments` | ê²°ì œ ê¸°ë¡ (Outbox íŒ¨í„´) |
| `outfit_logs` | ì°©ì¥ ê¸°ë¡ |

---

## ğŸ“ ë¼ì´ì„ ìŠ¤

ì´ í”„ë¡œì íŠ¸ëŠ” ë¹„ê³µê°œ í”„ë¡œì íŠ¸ì…ë‹ˆë‹¤.

---

<p align="center">
  <strong>CloszIT</strong> â€” ë‚´ ì†ì•ˆì˜ ìŠ¤ë§ˆíŠ¸ ì˜·ì¥ ğŸ§¥âœ¨
</p>
